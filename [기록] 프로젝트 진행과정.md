> ### ğŸƒğŸ»â€â™€ï¸ ì°¸ê³ 
>
> ì§€ì†ì ìœ¼ë¡œ ìˆ˜ì • ë° ì¶”ê°€ì¤‘ì¸ ê¸€ì…ë‹ˆë‹¤.

### í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ë©°

1. ì—¬ëŸ¬ ê°€ì§€ ì‚¬í•­ì„ ì •í•˜ê¸° ì „ì— ì‚¬ìš©í•  apië¥¼ í™•ì‹¤íˆ ì •í•˜ê³  ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.

   ê²€ìƒ‰ ê²°ê³¼ ë‚˜ì˜¨ ë§ì€ open APIê°€ ì œê³µì´ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. 

   [maniadb api](http://www.maniadb.com/api#ALBUM05)ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

2. ë°©í–¥ì„± ìˆ˜ì •

   ì›ë˜ ì¸ë”” ì¥ë¥´ ìŒì•…ì„ ì¤‘ì‹¬ìœ¼ë¡œ ìì²´ì ìœ¼ë¡œ DBì— ì•¨ë²” ì •ë³´ë“¤ì„ ì™•ì°½ ì €ì¥í•˜ë ¤ê³  í–ˆëŠ”ë°, ì›í•˜ëŠ” í¬ë§·ëŒ€ë¡œ ë°ì´í„°ë¥¼ ê¸ì–´ì™€ì„œ ë‹¤ì‹œ ì œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” ê²ƒì´ ê½¤ë‚˜ ë²ˆê±°ë¡­ê³  ë³µì¡í•œ ì¼ì´ ë  ê²ƒ ê°™ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì•¨ë²” ì •ë³´ ì œê³µì€ ì™¸ë¶€ APIë¥¼ ì‚¬ìš©í•˜ê³ , ê²Œì‹œíŒ ê¸°ëŠ¥ì´ë‚˜ ë‹¤ë¥¸ ê¸°ëŠ¥ì— ì§‘ì¤‘í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ 'ì¸ë”” ìŒì•…'ì´ë¼ëŠ” ìƒ‰ê¹”ì€ ê±°ì˜ ì—†ì–´ì¡Œë‹¤ê³  ë´ë„ ë¬´ë°©í•©ë‹ˆë‹¤. ğŸ™„

   ìŒì•… ì •ë³´ ìì²´ë¥¼ ì €ì¥í•˜ê³  ë³´ì—¬ì£¼ëŠ” ëŒ€ì‹ , ì‚¬ì´íŠ¸ ë‚´ì˜ ê²€ìƒ‰ì–´ë¥¼ ë”°ë¡œ ì €ì¥í•˜ì—¬ ì´ ë°ì´í„°ë¥¼ í™œìš©í•´ë³´ê¸°ë¡œ ìƒê°í–ˆìŠµë‹ˆë‹¤.

<br>

### ì´ˆë©´ì¸ ê¸°ìˆ ë“¤ ğŸ‘‹ğŸ» (í•™ìŠµ ìš”ë§)

1. spring ë‚´ë¶€ì—ì„œ apië¥¼ í˜¸ì¶œí•˜ëŠ” ë²•
2. xml í˜•ì‹ì˜ ë°ì´í„° íŒŒì‹±í•˜ê³  ì›í•˜ëŠ” ë°ì´í„° ì¶”ì¶œ
3. thymeleafì™€ bootstrapì˜ ì—°ë™ 

<br>

### API í˜¸ì¶œí•˜ê³  ê²°ê³¼ ë°›ì•„ì˜¤ê¸°

ì‚¬ìš©í•˜ê¸°ë¡œ í•œ [maniadb API v0.5](http://www.maniadb.com/api#ALBUM05)ê°€ í˜„ì¬ëŠ” key ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ key ë°œê¸‰ì´ í•„ìš” ì—†ì–´ì„œ ë¹ ë¥´ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. urlì— íŒŒë¼ë¯¸í„°ë§Œ ë„£ì–´ì£¼ê³  GET ë°©ì‹ìœ¼ë¡œ ìš”ì²­í•˜ë©´ ë°”ë¡œ ê²°ê³¼ë¥¼ ë°›ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

ë‘ ê°€ì§€ ë°©ì‹ì˜ apië¥¼ ì œê³µí•˜ëŠ”ë°, ì²«ì§¸ë¡œ ìŒì•… ì •ë³´ ê²€ìƒ‰ ë‘˜ì§¸ë¡œ ì•¨ë²” ì •ë³´ì…ë‹ˆë‹¤.

1. Search

   2ê°œì˜ parameterë¥¼ ë°”ê¾¸ì–´ ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.

   ```
   http://www.maniadb.com/api/search/[keyword]/?sr=[artist|album|song]&display=15&key=ì œ ì´ë©”ì¼&v=0.5
   ```

2. ì•¨ë²” ì •ë³´ 

   1ê°œì˜ parameterë¥¼ ë°”ê¾¸ì–´ ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.

   ```
   http://www.maniadb.com/api/album/[album_id]/?key=ì œ ì´ë©”ì¼
   ```

Api í˜¸ì¶œ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , RestTemplateë¥¼ ì´ìš©í•˜ì—¬ ìš”ì²­ ë° ì‘ë‹µì„ ë°›ì•˜ìŠµë‹ˆë‹¤.

```java
public class SearchApiClient {
    private final RestTemplate restTemplate;
    private final String SEARCH_URL_BASE = "http://www.maniadb.com/api/search/";
    private final String ALBUM_INFO_URL_BASE = "http://www.maniadb.com/api/album/";

    public String searchApi(String keyword, SearchCategory category){
        UriComponents uriBuilder = UriComponentsBuilder.fromHttpUrl(SEARCH_URL_BASE)
                .path(keyword + "/")
                .queryParam("sr", category.getParam())
                .queryParam("display", 16)
                .queryParam("key", "miinju.choi@gmail.com")
                .queryParam("v", 0.5)
                .build(false);

        final HttpHeaders headers = new HttpHeaders();
        final HttpEntity<String> entity = new HttpEntity<>(headers);

        return restTemplate.exchange(uriBuilder.toString(), HttpMethod.GET, entity, String.class).getBody();
    }

    public String getAlbumInfo(Long albumId){
        UriComponents uriBuilder = UriComponentsBuilder.fromHttpUrl(ALBUM_INFO_URL_BASE)
                .path(albumId + "/")
                .queryParam("key", "miinju.choi@gmail.com")
                .queryParam("v", 0.5)
                .build(false);

        final HttpHeaders headers = new HttpHeaders();
        final HttpEntity<String> entity = new HttpEntity<>(headers);

        return restTemplate.exchange(uriBuilder.toString(), HttpMethod.GET, entity, String.class).getBody();
    }

}
```

ì´ì œ ì—¬ê¸°ì„œ ë°›ì€ ì‘ë‹µ XML íŒŒì¼ì„ íŒŒì‹±í•˜ê³  ì›í•˜ëŠ” ì •ë³´ë§Œ ë½‘ì•„ë‚´ì•¼ í•©ë‹ˆë‹¤.